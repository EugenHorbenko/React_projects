(this.webpackJsonphomework_4_moviedb=this.webpackJsonphomework_4_moviedb||[]).push([[3],{34:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s}));var a=n(36),r=n.n(a);r.a.defaults.baseURL="https://api.themoviedb.org/3";var c="api_key=81654eed17fef2c0f309b4c799d69085",o=function(){return r.a.get("/trending/all/week?".concat(c)).then((function(e){return e.data}))},i=function(e){return r.a.get("/search/movie?".concat(c,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.data}))},l=function(e){return r.a.get("/movie/".concat(e,"?").concat(c,"&language=en-US")).then((function(e){return e.data}))},u=function(e){return r.a.get("/movie/".concat(e,"/credits?").concat(c)).then((function(e){return e.data}))},s=function(e){return r.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?").concat(c,"&language=en-US&page=1")).then((function(e){return e.data}))}},65:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var a=n(14),r=n(15),c=n(17),o=n(16),i=n(0),l=n.n(i),u=n(6),s=n(66),m=n.n(s),h=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.details,t=e.id,n=e.title,a=e.overview,r=e.imgUrl,c=e.avgVote,o=e.genres,i=e.year;return l.a.createElement("div",null,l.a.createElement("button",{type:"button",onClick:this.props.onGoBack},"\u2190 Back"),l.a.createElement("div",{className:m.a.infoContainer},r&&l.a.createElement("img",{className:m.a.posterImg,src:"https://image.tmdb.org/t/p/w600_and_h900_bestv2".concat(r),alt:n}),l.a.createElement("div",null,l.a.createElement("h2",null,n," (",i,")"),l.a.createElement("p",null,"Avarage rating: ",c),l.a.createElement("h3",null,"Overview"),l.a.createElement("p",null,a),l.a.createElement("h3",null,"Genres"),l.a.createElement("ul",{className:m.a.genresList},o&&o.map((function(e){return l.a.createElement("li",{key:e.id},e.name)}))))),l.a.createElement("div",null,l.a.createElement("p",null,"Additional information"),l.a.createElement(u.b,{to:"/movies/".concat(t,"/cast")},l.a.createElement("p",null,"Cast")),l.a.createElement(u.b,{to:"/movies/".concat(t,"/reviews")},l.a.createElement("p",null,"Reviews"))))}}]),n}(i.Component)},66:function(e,t,n){e.exports={infoContainer:"MovieDetails_infoContainer__oI1b3",posterImg:"MovieDetails_posterImg__O7L15",genresList:"MovieDetails_genresList__3GDp8"}},82:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var a=n(14),r=n(15),c=n(17),o=n(16),i=n(0),l=n.n(i),u=n(2),s=(n(65),n(35)),m=n(34),h=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={actors:[]},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;m.a((e=this.props,e.match.params.id)).then((function(e){return t.setState({actors:Object(s.a)((n=e.cast.slice(0,5),n.map((function(e){return{id:e.id,name:e.name,character:e.character,imgUrl:e.profile_path}}))))});var n})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var e=this.state.actors;return l.a.createElement("ul",null,e.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("img",{src:"https://image.tmdb.org/t/p/w235_and_h235_face".concat(e.imgUrl),alt:e.name}),l.a.createElement("p",null,e.name),l.a.createElement("p",null,"Character: ",e.character))})))}}]),n}(i.Component),p=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={reviews:[]},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;m.c((e=this.props,e.match.params.id)).then((function(e){return t.setState({reviews:Object(s.a)((n=e.results,n.map((function(e){return{author:e.author,content:e.content,id:e.id}}))))});var n})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var e=this.state.reviews;return e.length>0?l.a.createElement("ul",null,e.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("h3",null,e.author),l.a.createElement("p",null,e.content))}))):l.a.createElement("p",null,"There is no reviews for this movie")}}]),n}(i.Component),v=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,65))})),d=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={movieDetails:{},error:null,isLoading:!1},e.handleGoBack=function(){var t=e.props,n=t.history;t.location;n.goBack()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;this.setState({isLoading:!0}),m.b((e=this.props,e.match.params.id)).then((function(e){return t.setState({movieDetails:{id:e.id,title:e.title,overview:e.overview,imgUrl:e.poster_path,avgVote:e.vote_average,totalVotes:e.vote_count,genres:e.genres,year:e.release_date.substring(0,4)}})})).catch((function(e){return t.setState({error:e})})).finally(this.setState({isLoading:!1}))}},{key:"render",value:function(){var e=this.state,t=e.movieDetails,n=e.isLoading,a=this.props.match;return l.a.createElement("div",null,n?l.a.createElement("h1",null,"Loading..."):l.a.createElement(i.Suspense,{fallback:l.a.createElement("h1",null,"Loading...")},l.a.createElement(v,{onGoBack:this.handleGoBack,details:t}),l.a.createElement(u.a,{path:"".concat(a.path,"/cast"),component:h}),l.a.createElement(u.a,{path:"".concat(a.path,"/reviews"),component:p})))}}]),n}(i.Component)}}]);
//# sourceMappingURL=movieDetails-page.0a9a37c5.chunk.js.map