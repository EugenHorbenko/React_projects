{"version":3,"sources":["services/movieDb-api.js","components/MoviesList.js","pages/Home.js"],"names":["axios","defaults","baseURL","key","fetchPopularMovies","get","then","response","data","fetchSearchMovies","title","fetchMovieDetails","id","fetchMovieCast","fetchMovieReviews","MoviesList","movies","map","movie","to","mapper","Home","state","error","MoviesAPI","results","setState","catch","this","Component"],"mappings":"yHAAA,+LAWAA,IAAMC,SAASC,QAAU,+BACzB,IAAMC,EAAM,2CAECC,EAAqB,WAChC,OAAOJ,IAAMK,IAAN,6BAAgCF,IAAOG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAG7DC,EAAoB,SAAAC,GAC/B,OAAOV,IACJK,IADI,wBAEcF,EAFd,iCAE0CO,EAF1C,gCAIJJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAGlBG,EAAoB,SAAAC,GAC/B,OAAOZ,IACJK,IADI,iBACUO,EADV,YACgBT,EADhB,oBAEJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAGlBK,EAAiB,SAAAD,GAC5B,OAAOZ,IACJK,IADI,iBACUO,EADV,oBACwBT,IAC5BG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAGlBM,EAAoB,SAAAF,GAC/B,OAAOZ,IACJK,IADI,6CAEmCO,EAFnC,oBAEiDT,EAFjD,2BAIJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,U,gCC3C/B,2BAwBeO,IApBI,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OACjB,4BACGA,EAAOC,KACN,SAAAC,GAAK,OACHA,EAAMR,OACJ,wBAAIP,IAAKe,EAAMN,IACb,kBAAC,IAAD,CAAMO,GAAE,kBAAaD,EAAMN,KAAOM,EAAMR,c,2JCL9CU,EAAS,SAAAJ,GACb,OAAOA,EAAOC,KAAI,kBAAoB,CACpCL,GADgB,EAAGA,GAEnBF,MAFgB,EAAOA,WAMNW,E,4MACnBC,MAAQ,CACNN,OAAQ,GACRO,MAAO,M,EAGTnB,mBAAqB,WACnBoB,MACGlB,MAAK,SAAAE,GAAI,OAAIA,EAAKiB,WAClBnB,MAAK,SAAAE,GAAI,OAAI,EAAKkB,SAAS,CAAEV,OAAO,YAAKI,EAAOZ,SAChDmB,OAAM,SAAAJ,GAAK,OAAI,EAAKG,SAAS,CAAEH,c,kEAGlCK,KAAKxB,uB,+BAGG,IACAY,EAAWY,KAAKN,MAAhBN,OAER,OACE,6BACE,6CACA,kBAAC,IAAD,CAAYA,OAAQA,S,GAtBMa","file":"static/js/home-page.1e400841.chunk.js","sourcesContent":["import axios from 'axios';\r\n// axios.defaults.baseURL = 'http://localhost:4040';\r\n\r\n// export const fetchArticles = (category = null) => {\r\n//   const url = category ? `/articles?category=${category}` : '/articles';\r\n//   return axios.get(url).then(response => response.data);\r\n// };\r\n// export const fetchArticleWithId = id => {\r\n//   return axios.get(`/articles/${id}`).then(response => response.data);\r\n// };\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\nconst key = 'api_key=81654eed17fef2c0f309b4c799d69085';\r\n\r\nexport const fetchPopularMovies = () => {\r\n  return axios.get(`/trending/all/week?${key}`).then(response => response.data);\r\n};\r\n\r\nexport const fetchSearchMovies = title => {\r\n  return axios\r\n    .get(\r\n      `/search/movie?${key}&language=en-US&query=${title}&page=1&include_adult=false`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nexport const fetchMovieDetails = id => {\r\n  return axios\r\n    .get(`/movie/${id}?${key}&language=en-US`)\r\n    .then(response => response.data);\r\n};\r\n\r\nexport const fetchMovieCast = id => {\r\n  return axios\r\n    .get(`/movie/${id}/credits?${key}`)\r\n    .then(response => response.data);\r\n};\r\n\r\nexport const fetchMovieReviews = id => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${id}/reviews?${key}&language=en-US&page=1`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst MoviesList = ({ movies }) => (\r\n  <ul>\r\n    {movies.map(\r\n      movie =>\r\n        movie.title && (\r\n          <li key={movie.id}>\r\n            <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\r\n          </li>\r\n        ),\r\n    )}\r\n  </ul>\r\n);\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n};\r\nexport default MoviesList;\r\n","import React, { Component } from 'react';\r\n\r\nimport * as MoviesAPI from '../services/movieDb-api';\r\nimport MoviesList from '../components/MoviesList';\r\n\r\nconst mapper = movies => {\r\n  return movies.map(({ id, title }) => ({\r\n    id,\r\n    title,\r\n  }));\r\n};\r\n\r\nexport default class Home extends Component {\r\n  state = {\r\n    movies: [],\r\n    error: null,\r\n  };\r\n\r\n  fetchPopularMovies = () => {\r\n    MoviesAPI.fetchPopularMovies()\r\n      .then(data => data.results)\r\n      .then(data => this.setState({ movies: [...mapper(data)] }))\r\n      .catch(error => this.setState({ error }));\r\n  };\r\n  componentDidMount() {\r\n    this.fetchPopularMovies();\r\n  }\r\n\r\n  render() {\r\n    const { movies } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h3>In trend now:</h3>\r\n        <MoviesList movies={movies} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}